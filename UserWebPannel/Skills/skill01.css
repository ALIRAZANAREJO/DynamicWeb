:root{
  --bg:#fcf7f7; 
  --card:#fff; 
  --muted:#97a0b5; 
  --accent:#00337f;
  --dropdown-max-h: 320px;
  --pink-primary: #ff6b9d;
  --blue-primary: #4a90ff;
  --pink-glow: #ff6b9d40;
  --blue-glow: #4a90ff40;
}

*{box-sizing:border-box}
body{font-family:Inter, system-ui, Arial; margin:24px; background:var(--bg); color:#102132}
h2{margin:0 0 20px;font-size:28px;font-weight:700;color:#102132}
.primary{margin-top:20px;padding:14px 24px;font-size:18px;cursor:pointer;background:var(--accent);color:#ffffff;border:none;border-radius:16px}

/* Enhanced Search */
.search-wrap{max-width:900px;margin:0 auto}
#searchInput{
  width:100%; 
  padding:20px 24px; 
  font-size:18px; 
  border-radius:50px; 
  border:3px solid transparent;
  background:linear-gradient(#fff, #fff) padding-box, 
             linear-gradient(135deg, var(--pink-primary), var(--blue-primary)) border-box;
  outline:none; 
  transition:all .3s ease;
  box-shadow:0 8px 32px var(--pink-glow), 0 8px 32px var(--blue-glow);
  position:relative;
}

#searchInput::placeholder {
  background: linear-gradient(135deg, var(--blue-primary), var(--pink-primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 600;
}

#searchInput:focus{
  box-shadow:0 12px 40px var(--blue-glow), 0 12px 40px var(--pink-glow);
  transform: translateY(-2px);
  border:3px solid transparent;
  background:linear-gradient(#fff, #fff) padding-box, 
             linear-gradient(135deg, var(--blue-primary), var(--pink-primary)) border-box;
}

.hint{display: none; font-size:15px;color:var(--muted);margin-top:10px;text-align:center}

/* Enhanced Dropdown / cards */
.panel{margin-top:16px; display:none; background:transparent}
.cards{
  display:grid;
  background: linear-gradient(135deg, rgba(74, 144, 255, 0.05), rgba(255, 107, 157, 0.05));
  backdrop-filter: blur(10px);
  grid-template-columns: repeat(auto-fill, minmax(180px,1fr)); 
  gap:14px; 
  max-height: var(--dropdown-max-h); 
  overflow-y:auto; 
  padding:16px; 
  border-radius:24px;
  border:2px solid transparent;
  background-clip: padding-box;
  box-shadow:0 16px 48px rgba(74, 144, 255, 0.1), 0 16px 48px rgba(255, 107, 157, 0.1);
}

.card{
  background:rgba(255, 255, 255, 0.95); 
  backdrop-filter: blur(10px);
  border-radius:20px; 
  padding:16px; 
  display:flex; 
  align-items:center; 
  gap:12px; 
  cursor:pointer;
  border:2px solid rgba(255, 255, 255, 0.2); 
  transition:all .3s ease;
  position:relative; 
  min-height:72px;
}

.card:hover{
  transform:translateY(-6px); 
  box-shadow:0 16px 32px rgba(74, 144, 255, 0.15), 0 16px 32px rgba(255, 107, 157, 0.15);
  border:2px solid transparent;
  background:linear-gradient(rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.95)) padding-box, 
             linear-gradient(135deg, var(--pink-primary), var(--blue-primary)) border-box;
}

.card.highlight{
  border:2px solid transparent;
  background:linear-gradient(rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.98)) padding-box, 
             linear-gradient(135deg, var(--blue-primary), var(--pink-primary)) border-box;
  box-shadow:0 12px 32px rgba(74, 144, 255, 0.2), 0 12px 32px rgba(255, 107, 157, 0.2);
}

.icon{
  width:52px;
  height:52px;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#ffffff;
  font-size:20px;
  box-shadow:0 6px 20px rgba(16,33,50,0.15);
  background: linear-gradient(135deg, var(--pink-primary), var(--blue-primary));
}

.meta{flex:1}
.skill-name{font-weight:700; font-size:16px; color:#102132}
.small{font-size:13px; color:var(--muted); margin-top:4px}

/* Enhanced percent badge */
.percent-badge{
  display: none;
  position:absolute;  
  top:12px; 
  right:12px; 
  background:linear-gradient(135deg, var(--blue-primary), var(--pink-primary)); 
  padding:6px 12px; 
  border-radius:20px; 
  font-weight:700; 
  font-size:12px;
  color:#ffffff;
  box-shadow:0 4px 16px rgba(74, 144, 255, 0.3);
}

.percent-badge .pencil{
  display: none; 
  font-size:12px; 
  cursor:pointer; 
  opacity:.9;
  color:#ffffff;
}

.percent-edit{
  display: none; 
  width:64px;
  padding:6px 8px;
  border-radius:12px;
  border:2px solid var(--blue-primary);
  font-weight:600;
  background:rgba(255, 255, 255, 0.95);
}

/* Enhanced Selected list styling */
#selectedWrap{max-width:900px;margin:24px auto}
.selected-list{display:flex;flex-wrap:wrap;gap:14px}
.skill-tag{
  background:linear-gradient(135deg, var(--blue-primary), var(--pink-primary));
  color:#ffffff;
  padding:10px 16px;
  border-radius:25px;
  display:flex;
  align-items:center;
  gap:10px;
  min-width:180px;
  box-shadow:0 8px 24px rgba(74, 144, 255, 0.25), 0 8px 24px rgba(255, 107, 157, 0.25);
  transition:all .3s ease;
}

.skill-tag:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 32px rgba(74, 144, 255, 0.3), 0 12px 32px rgba(255, 107, 157, 0.3);
}

.skill-tag .icon{
  width:40px;
  height:40px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  background:rgba(255, 255, 255, 0.2);
  color:#ffffff;
}

.skill-tag input{
  width:56px;
  padding:6px;
  border-radius:10px;
  border:none;
  font-size:14px;
  font-weight:600;
  background:rgba(255, 255, 255, 0.9);
  color:#102132;
}

.remove-btn{cursor:pointer;font-weight:700;color:#ffffff;opacity:0.8}
.remove-btn:hover{opacity:1}

/* Enhanced colors for icons */
.ic-html{background:linear-gradient(135deg, #e44d26, #f06529)} 
.ic-css{background:linear-gradient(135deg, #0b6ebf, #1572B6)} 
.ic-js{background:linear-gradient(135deg, #f1c40f, #f39c12);color:#111}
.ic-py{background:linear-gradient(135deg, #3572A5, #4B8BBE)} 
.ic-node{background:linear-gradient(135deg, #3c873a, #68A063)} 
.ic-react{background:linear-gradient(135deg, #61dafb, #21D4FD);color:#021124}
.ic-sql{background:linear-gradient(135deg, #6f42c1, #8E44AD)} 
.ic-java{background:linear-gradient(135deg, #d14b3f, #ED8B00)} 
.ic-cpp{background:linear-gradient(135deg, #00599c, #0080C7)}
.ic-hack{background:linear-gradient(135deg, #444, #666)} 
.ic-office{background:linear-gradient(135deg, #ff8b2b, #FF6B35)}

/* Enhanced STEP-2 styles */
#fieldsSystem { max-width:1200px; margin:40px auto 100px; }
#fieldsMain { background:transparent; padding:10px; }
.field-row{display:flex;gap:16px;flex-wrap:wrap;margin-bottom:14px}
.field-card{
  flex:0 0 240px;
  min-width:180px;
  background:rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  color:#102132;
  border-radius:20px;
  border:2px solid rgba(255, 255, 255, 0.3);
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:12px;
  padding:16px;
  box-shadow:0 8px 24px rgba(74, 144, 255, 0.08), 0 8px 24px rgba(255, 107, 157, 0.08);
  transition:all .3s ease;
}

.field-card:hover{
  transform:translateY(-4px);
  box-shadow:0 16px 40px rgba(74, 144, 255, 0.15), 0 16px 40px rgba(255, 107, 157, 0.15);
}

.field-card.active{
  border:2px solid transparent;
  background:linear-gradient(rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.98)) padding-box, 
             linear-gradient(135deg, var(--blue-primary), var(--pink-primary)) border-box;
  box-shadow:0 16px 48px rgba(74, 144, 255, 0.2), 0 16px 48px rgba(255, 107, 157, 0.2);
}

.field-card .icon{
  width:52px;
  height:52px;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#ffffff;
  font-weight:700;
  background: linear-gradient(135deg, var(--pink-primary), var(--blue-primary));
}

.field-title{font-weight:700;font-size:16px;color:#102132}

/* Enhanced subcategory & skill areas */
.subcat-area{margin:16px 0 24px;padding:12px 8px;background:transparent}
.subcat-grid{display:flex;flex-wrap:wrap;gap:12px}
.subcat-card{
  background:rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  padding:14px;
  border-radius:16px;
  cursor:pointer;
  border:2px solid rgba(255, 255, 255, 0.3);
  min-width:160px;
  transition:all .3s ease;
}

.subcat-card:hover{
  transform:translateY(-2px);
  border:2px solid transparent;
  background:linear-gradient(rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.95)) padding-box, 
             linear-gradient(135deg, var(--pink-primary), var(--blue-primary)) border-box;
}

.skills-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:14px;
  margin-top:16px;
}

.skill-card{
  background:rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-radius:20px;
  padding:14px;
  border:2px solid rgba(255, 255, 255, 0.2);
  position:relative;
  cursor:pointer;
  min-height:80px;
  display:flex;
  align-items:center;
  gap:10px;
  transition:all .3s ease;
}

.skill-card:hover{
  transform:translateY(-4px);
  border:2px solid transparent;
  background:linear-gradient(rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.98)) padding-box, 
             linear-gradient(135deg, var(--blue-primary), var(--pink-primary)) border-box;
  box-shadow:0 12px 32px rgba(74, 144, 255, 0.15), 0 12px 32px rgba(255, 107, 157, 0.15);
}

.skill-card .icon{
  width:44px;
  height:44px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#ffffff;
  font-weight:700;
  background: linear-gradient(135deg, var(--pink-primary), var(--blue-primary));
}

.skill-name{font-weight:700;font-size:15px;color:#102132}
.pct-badge{
  position:absolute;
  top:10px;
  right:10px;
  background:linear-gradient(135deg, var(--blue-primary), var(--pink-primary));
  padding:6px 10px;
  border-radius:16px;
  display:flex;
  align-items:center;
  gap:6px;
  font-weight:700;
  font-size:12px;
  color:#ffffff;
}

.pct-badge .pencil{cursor:pointer;color:#ffffff}

/* Enhanced back button */
.back-btn{
  display:none;
  margin:16px 0;
  padding:12px 20px;
  border-radius:20px;
  border:none;
  background:linear-gradient(135deg, var(--blue-primary), var(--pink-primary));
  color:#ffffff;
  cursor:pointer;
  font-weight:600;
  font-size:16px;
  box-shadow:0 8px 24px rgba(74, 144, 255, 0.25);
  transition:all .3s ease;
}

.back-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 32px rgba(74, 144, 255, 0.3), 0 12px 32px rgba(255, 107, 157, 0.3);
}

/* Enhanced helpers */
.hidden{display:none!important}

.icon-fallback-text {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  color: #ffffff;
  border-radius: 8px;
  text-align: center;
  line-height: 1;
  user-select: none;
  font-weight: 700;
}

@media (max-width:900px){
  .cards{grid-template-columns:repeat(2,1fr)}
  .field-row{justify-content:center}
  #searchInput{padding:16px 20px;font-size:16px}
  h2{font-size:24px}
}
